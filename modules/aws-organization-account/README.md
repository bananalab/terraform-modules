# aws-organization-account

<!-- BEGINNING OF PRE-COMMIT-TERRAFORM DOCS HOOK -->

<!-- This will become the header in README.md
     Add a description of the module here.
     Do not include Variable or Output descriptions. -->
L1 Module to manage an AWS Organization account.

## Example

```hcl
/**
  * Examples should illustrate typical use cases.
  * For multiple examples each should have its own directory.
  *
  * > Running module examples uses a local state file.
  * > If you delete the .terraform directory the resources
  * > will be orphaned.
*/

/**
  * <!-- Module variables go here.
  *      Always include descriptions as they will populate
  *      autogenerated documentation. -->
*/

variable "name" {}
variable "email" {}
variable "close_on_deletion" { default = true }
variable "create_govcloud" { default = false }
variable "iam_user_access_to_billing" { default = false }
variable "parent_id" { default = null }
variable "role_name" { default = null }
variable "tags" { default = null }
variable "prevent_destroy" { default = false }


module "this" {
  source                     = "../../"
  name                       = var.name
  email                      = var.email
  close_on_deletion          = var.close_on_deletion
  create_govcloud            = var.create_govcloud
  iam_user_access_to_billing = var.iam_user_access_to_billing
  parent_id                  = var.parent_id
  role_name                  = var.role_name
  tags                       = var.tags
  prevent_destroy            = var.prevent_destroy
}

output "result" {
  description = <<-EOT
    The result of the module.
  EOT
  value       = module.this.result
}
```
<!-- markdownlint-disable -->

## Modules

No modules.

## Providers

| Name | Version |
|------|---------|
| <a name="provider_aws"></a> [aws](#provider\_aws) | ~>4 |

## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_aws"></a> [aws](#requirement\_aws) | ~>4 |

## Resources

| Name | Type |
|------|------|
| [aws_organizations_account.destructible](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/organizations_account) | resource |
| [aws_organizations_account.indestructible](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/organizations_account) | resource |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_email"></a> [email](#input\_email) | Email address for the member account. | `string` | n/a | yes |
| <a name="input_name"></a> [name](#input\_name) | Friendly name for the member account. | `string` | n/a | yes |
| <a name="input_close_on_deletion"></a> [close\_on\_deletion](#input\_close\_on\_deletion) | Close the member account on deletion. | `bool` | `false` | no |
| <a name="input_create_govcloud"></a> [create\_govcloud](#input\_create\_govcloud) | Create the member account in the GovCloud region. | `bool` | `false` | no |
| <a name="input_iam_user_access_to_billing"></a> [iam\_user\_access\_to\_billing](#input\_iam\_user\_access\_to\_billing) | Allow the IAM user to access billing information for the member account. | `bool` | `false` | no |
| <a name="input_parent_id"></a> [parent\_id](#input\_parent\_id) | The ID of the parent account. | `string` | `null` | no |
| <a name="input_prevent_destroy"></a> [prevent\_destroy](#input\_prevent\_destroy) | Prevent the module from destroying the Account | `bool` | `true` | no |
| <a name="input_role_name"></a> [role\_name](#input\_role\_name) | the name of an IAM role that Organizations automatically preconfigures in<br>the new member account. This role trusts the root account, allowing users<br>in the root account to assume the role, as permitted by the root account<br>administrator. The role has administrator permissions in the new member<br>account. | `string` | `null` | no |
| <a name="input_tags"></a> [tags](#input\_tags) | A map of tags to assign to the member account. | `map(string)` | `null` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_result"></a> [result](#output\_result) | The result of the module. |


<!-- END OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
